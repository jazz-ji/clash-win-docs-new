<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常见问题 | Clash for Windows</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="by Fndroid">
    
    <link rel="preload" href="/assets/css/0.styles.30ac7275.css" as="style"><link rel="preload" href="/assets/js/app.bf63b85a.js" as="script"><link rel="preload" href="/assets/js/3.dafdbcbb.js" as="script"><link rel="preload" href="/assets/js/38.baddc4ce.js" as="script"><link rel="preload" href="/assets/js/9.1129cfbe.js" as="script"><link rel="prefetch" href="/assets/js/10.0a91e60b.js"><link rel="prefetch" href="/assets/js/11.6a0f14d9.js"><link rel="prefetch" href="/assets/js/12.d28cee1e.js"><link rel="prefetch" href="/assets/js/13.f661d641.js"><link rel="prefetch" href="/assets/js/14.b9bdd7eb.js"><link rel="prefetch" href="/assets/js/15.15596451.js"><link rel="prefetch" href="/assets/js/16.4279b6f9.js"><link rel="prefetch" href="/assets/js/17.2f851a11.js"><link rel="prefetch" href="/assets/js/18.45e66707.js"><link rel="prefetch" href="/assets/js/19.a3553313.js"><link rel="prefetch" href="/assets/js/20.7f84e2c1.js"><link rel="prefetch" href="/assets/js/21.3bc024e0.js"><link rel="prefetch" href="/assets/js/22.3ddb716f.js"><link rel="prefetch" href="/assets/js/23.6c80e477.js"><link rel="prefetch" href="/assets/js/24.a2de88ce.js"><link rel="prefetch" href="/assets/js/25.0a200c9a.js"><link rel="prefetch" href="/assets/js/26.d7486bf6.js"><link rel="prefetch" href="/assets/js/27.ccf2f121.js"><link rel="prefetch" href="/assets/js/28.83050aeb.js"><link rel="prefetch" href="/assets/js/29.49b7b2f8.js"><link rel="prefetch" href="/assets/js/30.5bf99143.js"><link rel="prefetch" href="/assets/js/31.a48738c2.js"><link rel="prefetch" href="/assets/js/32.857939ed.js"><link rel="prefetch" href="/assets/js/33.a3566eb3.js"><link rel="prefetch" href="/assets/js/34.17ffe7bf.js"><link rel="prefetch" href="/assets/js/35.ce7c6b4a.js"><link rel="prefetch" href="/assets/js/36.00ca7744.js"><link rel="prefetch" href="/assets/js/37.f82b7f80.js"><link rel="prefetch" href="/assets/js/39.c018c5cc.js"><link rel="prefetch" href="/assets/js/4.3ecc92df.js"><link rel="prefetch" href="/assets/js/40.00acb378.js"><link rel="prefetch" href="/assets/js/41.d9ec7828.js"><link rel="prefetch" href="/assets/js/42.6c7ada22.js"><link rel="prefetch" href="/assets/js/43.eed7f1cd.js"><link rel="prefetch" href="/assets/js/44.710a4791.js"><link rel="prefetch" href="/assets/js/45.34386893.js"><link rel="prefetch" href="/assets/js/5.bd053da4.js"><link rel="prefetch" href="/assets/js/6.8a6e8497.js"><link rel="prefetch" href="/assets/js/7.1e51e58d.js"><link rel="prefetch" href="/assets/js/8.e5e0c8e5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.30c42ed6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.30ac7275.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Clash for Windows</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/Fndroid/clash_for_windows_pkg/releases/latest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download the Latest APP
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Fndroid/clash-win-docs-new" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/Fndroid/clash_for_windows_pkg/releases/latest" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download the Latest APP
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Fndroid/clash-win-docs-new" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/" class="sidebar-heading clickable router-link-active open"><span>Clash for Windows</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/contents/quickstart.html" class="sidebar-link">快速上手</a></li><li><a href="/contents/configfile.html" class="sidebar-link">配置文件</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/contents/ui" class="sidebar-heading clickable"><span>界面组成</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/contents/urlscheme.html" class="sidebar-link">URL Scheme</a></li><li><a href="/contents/bypass.html" class="sidebar-link">绕过系统代理</a></li><li><a href="/contents/breakconn.html" class="sidebar-link">打断连接</a></li><li><a href="/contents/7z.html" class="sidebar-link">便携模式</a></li><li><a href="/contents/tun.html" class="sidebar-link">TUN 模式</a></li><li><a href="/contents/tap.html" class="sidebar-link">TAP 模式</a></li><li><a href="/contents/mixin.html" class="sidebar-link">Mixin</a></li><li><a href="/contents/parser.html" class="sidebar-link">配置文件预处理</a></li><li><a href="/contents/actions.html" class="sidebar-link">Actions</a></li><li><a href="/contents/diff.html" class="sidebar-link">Diff 处理</a></li><li><a href="/contents/lightweight.html" class="sidebar-link">轻量模式（Lightweight Mode）</a></li><li><a href="/contents/dhcp.html" class="sidebar-link">DHCP 服务端</a></li><li><a href="/contents/tray.html" class="sidebar-link">Enhanced Tray</a></li><li><a href="/contents/profilespath.html" class="sidebar-link">自定义配置目录</a></li><li><a href="/contents/childprocess.html" class="sidebar-link">启动其他应用</a></li><li><a href="/contents/trayicon.html" class="sidebar-link">自定义状态栏图标</a></li><li><a href="/contents/font.html" class="sidebar-link">自定义字体</a></li><li><a href="/contents/proxyorder.html" class="sidebar-link">自定义节点排序</a></li><li><a href="/contents/header.html" class="sidebar-link">自定义请求头</a></li><li><a href="/contents/questions.html" aria-current="page" class="active sidebar-link">常见问题</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h1> <p></p><div class="table-of-contents"><ul><li><a href="#general-加载失败-显示-failed-to-clash-core-logs-are-not-available">General 加载失败，显示“failed to clash core, logs are not available.”</a></li><li><a href="#macos-无法设置-system-proxy-系统代理项目灰色无法更改">macOS 无法设置 System Proxy，系统代理项目灰色无法更改</a></li><li><a href="#service-mode-无法安装">Service Mode 无法安装</a></li><li><a href="#macos-版本启动要求授权">macOS 版本启动要求授权</a></li><li><a href="#macos-dmg-安装后无法打开-提示损坏">macOS DMG 安装后无法打开，提示损坏</a></li><li><a href="#系统代理自动关闭或打开">系统代理自动关闭或打开</a></li><li><a href="#general-端口显示为-0">General 端口显示为 0</a></li><li><a href="#killer-系列网卡无法开启-tap-tun-模式">Killer 系列网卡无法开启 TAP/TUN 模式</a></li><li><a href="#在-windows-系统中-使用-system-作为-tun-stack-时-clash-网卡无法正常工作">在 Windows 系统中，使用 system 作为 TUN stack 时，Clash 网卡无法正常工作</a></li><li><a href="#在-windows-系统中-tun-模式下无法使用热点分享功能">在 Windows 系统中，TUN 模式下无法使用热点分享功能</a></li><li><a href="#软件启动时-tun-创建网卡失败-提示-start-tun-interface-error-error-creating-interface-cannot-create-a-file-when-that-file-already-exists-windows">软件启动时，TUN 创建网卡失败，提示 Start Tun interface error: error creating interface: Cannot create a file when that file already exists.（Windows）</a></li></ul></div><p></p> <h3 id="general-加载失败-显示-failed-to-clash-core-logs-are-not-available"><a href="#general-加载失败-显示-failed-to-clash-core-logs-are-not-available" class="header-anchor">#</a> General 加载失败，显示“failed to clash core, logs are not available.”</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>将安装目录添加到杀毒软件白名单。</p> <p data-v-2fb828fd>如 Windows Defender 开启，则需要将安装目录添加到<a href="https://support.microsoft.com/zh-cn/windows/%E5%B0%86%E6%8E%92%E9%99%A4%E9%A1%B9%E6%B7%BB%E5%8A%A0%E5%88%B0-windows-%E5%AE%89%E5%85%A8%E4%B8%AD%E5%BF%83-811816c0-4dfd-af4a-47e4-c301afe13b26#:~:text=%E4%BE%9D%E6%AC%A1%E8%BD%AC%E5%88%B0%E2%80%9C%E5%BC%80%E5%A7%8B%E2%80%9D%E8%8F%9C%E5%8D%95,%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%90%E6%96%87%E4%BB%B6%E5%A4%B9%E3%80%82" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>排除项<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中</p></div> <h3 id="macos-无法设置-system-proxy-系统代理项目灰色无法更改"><a href="#macos-无法设置-system-proxy-系统代理项目灰色无法更改" class="header-anchor">#</a> macOS 无法设置 System Proxy，系统代理项目灰色无法更改</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <ol data-v-2fb828fd><li data-v-2fb828fd>进入<strong data-v-2fb828fd>设置</strong></li> <li data-v-2fb828fd>选择<strong data-v-2fb828fd>安全与隐私</strong></li> <li data-v-2fb828fd>选择<strong data-v-2fb828fd>通用</strong></li> <li data-v-2fb828fd>点击<strong data-v-2fb828fd>解锁按钮</strong>，输入密码</li> <li data-v-2fb828fd>点击<strong data-v-2fb828fd>高级...</strong></li> <li data-v-2fb828fd>取消<strong data-v-2fb828fd>访问系统范围的偏好设置需要输入管理员密码</strong>选项</li></ol></div> <h3 id="service-mode-无法安装"><a href="#service-mode-无法安装" class="header-anchor">#</a> Service Mode 无法安装</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <h4 id="windows" data-v-2fb828fd><a href="#windows" class="header-anchor" data-v-2fb828fd>#</a> Windows</h4> <p data-v-2fb828fd>先确定系统安装了<code data-v-2fb828fd>.NET framework runtime</code></p> <p data-v-2fb828fd>然后尝试手动安装：</p> <ol data-v-2fb828fd><li data-v-2fb828fd>点击 General 中的 Home Directory 打开文件夹，进入 service 子目录中</li> <li data-v-2fb828fd>打开 CMD，执行以下命令：</li></ol> <div class="language- extra-class" data-v-2fb828fd><pre class="language-text" data-v-2fb828fd><code data-v-2fb828fd>service.exe install
service.exe start
</code></pre></div><p data-v-2fb828fd>如安装出现错误，参考<a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/1627" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>这个 issue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="macos" data-v-2fb828fd><a href="#macos" class="header-anchor" data-v-2fb828fd>#</a> macOS</h4> <ol data-v-2fb828fd><li data-v-2fb828fd>打开终端</li> <li data-v-2fb828fd>运行以下命令：<div class="language-sh extra-class" data-v-2fb828fd><pre class="language-sh" data-v-2fb828fd><code data-v-2fb828fd><span class="token function" data-v-2fb828fd>curl</span> https://gist.githubusercontent.com/Fndroid/2119fcb5ccb5a543a8f6a609418ae43f/raw/ff63615309a9b3f3e1d682fc29bc73284816422e/mac.sh <span class="token operator" data-v-2fb828fd>&gt;</span> cfw-tun.sh <span class="token operator" data-v-2fb828fd>&amp;&amp;</span> <span class="token function" data-v-2fb828fd>chmod</span> +x cfw-tun.sh <span class="token operator" data-v-2fb828fd>&amp;&amp;</span> <span class="token function" data-v-2fb828fd>sudo</span> ./cfw-tun.sh <span class="token function" data-v-2fb828fd>install</span> <span class="token operator" data-v-2fb828fd>&amp;&amp;</span> <span class="token function" data-v-2fb828fd>rm</span> cfw-tun.sh
</code></pre></div>如要卸载则将 install 改为 uninstall</li></ol> <h4 id="linux" data-v-2fb828fd><a href="#linux" class="header-anchor" data-v-2fb828fd>#</a> linux</h4> <ol data-v-2fb828fd><li data-v-2fb828fd><p data-v-2fb828fd>打开终端</p></li> <li data-v-2fb828fd><p data-v-2fb828fd>运行以下命令：</p> <div class="language-sh extra-class" data-v-2fb828fd><pre class="language-sh" data-v-2fb828fd><code data-v-2fb828fd><span class="token function" data-v-2fb828fd>curl</span> https://gist.githubusercontent.com/Fndroid/2119fcb5ccb5a543a8f6a609418ae43f/raw/592eba4f480c7ccb4f29c9b8e80d24bfd5dda8cf/linux.sh <span class="token operator" data-v-2fb828fd>&gt;</span> cfw-tun.sh <span class="token operator" data-v-2fb828fd>&amp;&amp;</span> <span class="token function" data-v-2fb828fd>chmod</span> +x cfw-tun.sh <span class="token operator" data-v-2fb828fd>&amp;&amp;</span> <span class="token function" data-v-2fb828fd>sudo</span> ./cfw-tun.sh <span class="token function" data-v-2fb828fd>install</span> <span class="token operator" data-v-2fb828fd>&lt;</span>cfw安装目录<span class="token operator" data-v-2fb828fd>&gt;</span>
</code></pre></div><p data-v-2fb828fd>如要卸载则将 install 改为 uninstall，最后一部分位 CFW 安装目录</p></li></ol></div> <h3 id="macos-版本启动要求授权"><a href="#macos-版本启动要求授权" class="header-anchor">#</a> macOS 版本启动要求授权</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>在第一次或更新 APP 后打开软件会提示用户授权，这是因为需要安装/更新用于设置系统代理的工具，如果不进行授权，General 中的 System Proxy 开关将无法打开。一般情况下，除非工具更新，否则除了第一次启动外不会重复需要授权。</p></div> <h3 id="macos-dmg-安装后无法打开-提示损坏"><a href="#macos-dmg-安装后无法打开-提示损坏" class="header-anchor">#</a> macOS DMG 安装后无法打开，提示损坏</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>网络下载应用被 Apple 添加隔离标识，终端输入命令解除即可：</p> <div class="language- extra-class" data-v-2fb828fd><pre class="language-text" data-v-2fb828fd><code data-v-2fb828fd>sudo xattr -r -d com.apple.quarantine /Applications/Clash\ for\ Windows.app
</code></pre></div></div> <h3 id="系统代理自动关闭或打开"><a href="#系统代理自动关闭或打开" class="header-anchor">#</a> 系统代理自动关闭或打开</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd><a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/312" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="general-端口显示为-0"><a href="#general-端口显示为-0" class="header-anchor">#</a> General 端口显示为 0</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd><a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/671" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="killer-系列网卡无法开启-tap-tun-模式"><a href="#killer-系列网卡无法开启-tap-tun-模式" class="header-anchor">#</a> Killer 系列网卡无法开启 TAP/TUN 模式</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd><a href="https://github.com/Fndroid/clash_for_windows_pkg/issues/1243#issuecomment-751165537" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="在-windows-系统中-使用-system-作为-tun-stack-时-clash-网卡无法正常工作"><a href="#在-windows-系统中-使用-system-作为-tun-stack-时-clash-网卡无法正常工作" class="header-anchor">#</a> 在 Windows 系统中，使用 system 作为 TUN stack 时，Clash 网卡无法正常工作</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>请在系统防火墙中将 clash core 放行。方法参考 <a href="https://docs.cfw.lbyczf.com/contents/tun.html#windows" target="_blank" rel="noopener noreferrer" data-v-2fb828fd>TUN 模式说明<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h3 id="在-windows-系统中-tun-模式下无法使用热点分享功能"><a href="#在-windows-系统中-tun-模式下无法使用热点分享功能" class="header-anchor">#</a> 在 Windows 系统中，TUN 模式下无法使用热点分享功能</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <ol data-v-2fb828fd><li data-v-2fb828fd>开启热点分享功能，此时系统网络设置中会生成一个网卡</li> <li data-v-2fb828fd>开启 TUN 模式</li> <li data-v-2fb828fd>进入系统网络设置，在 Clash 网卡右键选择属性，选择共享标签页</li> <li data-v-2fb828fd>勾选“允许其他网络用户通过此计算机的 Internet 连接来连接”</li> <li data-v-2fb828fd>在“家庭网络连接”选择框中选择第 1 步生成的网卡</li></ol></div> <h3 id="软件启动时-tun-创建网卡失败-提示-start-tun-interface-error-error-creating-interface-cannot-create-a-file-when-that-file-already-exists-windows"><a href="#软件启动时-tun-创建网卡失败-提示-start-tun-interface-error-error-creating-interface-cannot-create-a-file-when-that-file-already-exists-windows" class="header-anchor">#</a> 软件启动时，TUN 创建网卡失败，提示 Start Tun interface error: error creating interface: Cannot create a file when that file already exists.（Windows）</h3> <div class="question-answer" data-v-2fb828fd><div id="triangle" data-v-2fb828fd></div> <p data-v-2fb828fd>临时解决方法：</p> <ol data-v-2fb828fd><li data-v-2fb828fd>进入 Home Directory</li> <li data-v-2fb828fd>编辑 config.yaml，添加如下配置：<div class="language-yaml extra-class" data-v-2fb828fd><pre class="language-yaml" data-v-2fb828fd><code data-v-2fb828fd><span class="token key atrule" data-v-2fb828fd>port</span><span class="token punctuation" data-v-2fb828fd>:</span> <span class="token number" data-v-2fb828fd>7890</span>
<span class="token comment" data-v-2fb828fd># ...</span>
<span class="token comment" data-v-2fb828fd># 添加下面这段👇</span>
<span class="token key atrule" data-v-2fb828fd>tun</span><span class="token punctuation" data-v-2fb828fd>:</span>
  <span class="token key atrule" data-v-2fb828fd>enable</span><span class="token punctuation" data-v-2fb828fd>:</span> <span class="token boolean important" data-v-2fb828fd>true</span>
  <span class="token key atrule" data-v-2fb828fd>stack</span><span class="token punctuation" data-v-2fb828fd>:</span> gvisor
  <span class="token key atrule" data-v-2fb828fd>auto-route</span><span class="token punctuation" data-v-2fb828fd>:</span> <span class="token boolean important" data-v-2fb828fd>false</span>
  <span class="token key atrule" data-v-2fb828fd>auto-detect-interface</span><span class="token punctuation" data-v-2fb828fd>:</span> <span class="token boolean important" data-v-2fb828fd>true</span>
</code></pre></div></li> <li data-v-2fb828fd>重启 CFW</li></ol></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Fndroid/clash-win-docs-new/edit/master/docs/contents/questions.md" target="_blank" rel="noopener noreferrer">在Github上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">9/9/2022, 9:24:29 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/contents/header.html" class="prev">
        自定义请求头
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bf63b85a.js" defer></script><script src="/assets/js/3.dafdbcbb.js" defer></script><script src="/assets/js/38.baddc4ce.js" defer></script><script src="/assets/js/9.1129cfbe.js" defer></script>
  </body>
</html>
